<head>
    <meta charset="utf-8">
    <title>
        Cadastro de Triagem
    </title>     
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
    
<body>

    <h1>Cadastro de Triagem</h1>
    <br>

    ID:
    <br>
    <input type="text" id="id">
    <br><br>

    ID Paciente:
    <br>
    <input type="text" id="id_paciente">
    <br><br>

    Temperatura:
    <br>
    <input type="text" id="temperatura">
    <br><br>

    Press√£o:
    <br>
    <input type="text" id="pressao">
    <br><br>
    
    
    <button onclick="inserir()">Salvar</button>

    <a href="8triagem.html">
        <button>Voltar</button>
    </a>        

</body>
</html>

<script language="javascript">
    function inserir(){
        var id = document.getElementById("id").value
        var id_paciente = document.getElementById("id_paciente").value
        var temperatura = document.getElementById("temperatura").value
        var pressao = document.getElementById("pressao").value

        var json = {
            'id': id,
            'id_paciente': id_paciente,
            'temperatura': temperatura,
            'pressao': pressao
        }

        fetch('http://127.0.0.1:5000/triagem/add',
        {
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            method: "POST",
            body: JSON.stringify(json)
        })
        .then(function(res){ 
            res.json()
                .then(data => {
                    console.log(data)
                    window.open("8triagem.html");
                })
        })
        .catch(function(res){ console.log(res) })
    }
</script>